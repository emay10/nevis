<div class="row page-title clients-title">
  <div class="col-xs-5">
    <h2>Statement for <em>{{statement.user.name}}</em></h2>
  </div>
  <div class="col-xs-3 hidden text-right">
    <a class="btn btn-success" role="button" data-ui-sref="auth.commissions.import">Import</a>
    <a class="btn btn-success" role="button" data-ui-sref="auth.commissions.new">Add Commission</a>
  </div>
</div>
<div class="row">
  <div class="col-xs-12">
    <table class="table table-striped table-hover" data-ts-wrapper>
      <thead>
        <th data-ts-criteria="id" data-ts-default>ID</th>
        <th data-ts-criteria="user.name">Agent</th>
        <th data-ts-criteria="policy.carrier">Carrier</th>
        <th data-ts-criteria="client.name">Client</th>
        <th data-ts-criteria="policy.kind">Policy</th>
        <th data-ts-criteria="statement_date">Statement Month</th>
        <th data-ts-criteria="earned_date">Earned Month</th>
        <th data-ts-criteria="commission|parseInt">Commission</th>
      </thead>
      <tbody>
        <tr data-ng-repeat="commission in commissions" data-ts-repeat>
          <td>
            {{commission.id}}
          </td>
          <td>
            {{commission.user.name}}
          </td>
          <td>
            {{commission.policy.carrier}}
          </td>
          <td>
            {{commission.client.name}}
          </td>
          <td>
            {{commission.policy.kind}}
          </td>
          <td>
            {{commission.statement_date|date:'MMM yyyy'}}
          </td>
          <td>
            {{commission.earned_date|date:'MMM yyyy'}}
          </td>
          <td>
            <span data-ng-show="commission.commission != 0">${{commission.commission}}</span>
            <span data-ng-show="commission.commission == 0">-</span>
          </td>
        </tr>
      </tbody>
    </table>
  </div>
</div>
<div class="row">
  <div class="col-xs-offset-7 col-xs-5">
    <table class="table statement-summary">
      <tr>
        <td>Agent:</td>
        <td>{{statement.user.name}}</td>
      </tr>
      <tr>
        <td>Statement Month:</td>
        <td>{{statement.date}}</td>
      </tr>
      <tr>
        <td>Total Commissions Received:</td>
        <td>{{statement.total_coms}}</td>
      </tr>
      <tr>
        <td>Agency Commission:</td>
        <td>{{statement.total_coms}}</td>
      </tr>
      <tr>
        <td>Total Agent Commissions:</td>
        <td>{{statement.total_coms}}</td>
      </tr>
      <tr>
        <td>Commissions by Carrier</td>
        <td></td>
      </tr>
      <tr>
        <td>Regence:</td>
        <td>{{statement.total_coms}}</td>
      </tr>
    </table>
    <footer class="text-right">
      <a class="btn btn-sm btn-primary" target="_self" href="api/statements/{{statement.id}}/pdf">Export to PDF</a>
      <a class="btn btn-sm btn-primary" target="_self" href="api/statements/{{statement.id}}/xls">Export to XLS</a>
    </footer>
  </div>
</div>
